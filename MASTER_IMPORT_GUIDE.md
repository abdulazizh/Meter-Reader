# استيراد بيانات من جدول Master

## الوصف
النظام الآن يدعم استيراد البيانات من جدول `master` في ملفات Access، إلى جانب الجداول الأخرى المدعومة.

## الحقول المدعومة من جدول Master
- `m_accountno`: رقم الحساب
- `m_serial`: الرقم التسلسلي
- `m_meter`: رقم العداد
- `m_type`: نوع العميل (1=منزلي، 2=تجاري، 3=صناعي، 4=حكومي، 5=زراعي)
- `m_name`: اسم المشترك
- `m_address`: العنوان
- `m_streetno`: رقم الشارع
- `m_houseno`: رقم المنزل
- `m_prevread`: القراءة السابقة
- `m_prevdt`: تاريخ القراءة السابقة
- `m_amount`: المبلغ المستحق
- `m_outs`: الديون
- `m_amount_all`: المجموع الكلي

## خطوات الاستيراد

### عبر واجهة الإدارة (Admin Panel):
1. قم بتسجيل الدخول إلى لوحة الإدارة
2. انتقل إلى قسم "استيراد البيانات"
3. اختر نوع الاستيراد: "عدادات" (meters)
4. ارفع ملف Access الذي يحتوي على جدول `master`
5. انتظر حتى تكتمل عملية الاستيراد

### عبر الواجهة البرمجية (API):
```
POST /api/admin/import-access/meters
Content-Type: multipart/form-data
Authorization: Admin session required

Body: {file: "invest_db.mdb"}
```

## ملاحظات هامة
- عند رفع ملف Access يحتوي على جدول باسم `master`، سيقوم النظام تلقائيًا باستخدام هذا الجدول لاستيراد بيانات العدادات
- إذا لم يوجد جدول `master`، سيتم استخدام الجدول الافتراضي `output`
- يمكن أيضًا استخدام الملف الذي تم إنشاؤه مسبقًا (`master-import-data.json`) لاستيراد البيانات عبر الواجهة البرمجية

## مثال على الاستخدام
الملف `invest_db.mdb` الذي قمت برفعه يحتوي على 12,924 سجل في جدول `master`، ويمكنك الآن استيراد هذه البيانات مباشرة إلى النظام.

## التحقق من النجاح
- بعد الاستيراد، ستظهر البيانات في قسم "العدادات" في لوحة الإدارة
- يمكن تصدير البيانات في أي وقت لتحقق من صحة الاستيراد
- عدد السجلات المستوردة سيظهر في رسالة النجاح

## استكشاف الأخطاء
- إذا لم تظهر البيانات، تأكد من أن جدول `master` موجود في ملف Access
- تحقق من أن الحقول المطلوبة متوفرة في الجدول
- تأكد من أن نوع الملف هو `.mdb` و ليس `.accdb`